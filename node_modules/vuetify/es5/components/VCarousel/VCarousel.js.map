{"version":3,"sources":["../../../src/components/VCarousel/VCarousel.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport '../../stylus/components/_carousel.styl'\n\n// Components\nimport VBtn from '../VBtn'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\nimport { VNodeDirective } from 'vue/types/vnode'\n\ntype CarouselItemInstance = {\n  uid: number\n  open: (uid: number, reverse: boolean) => void\n}\n\nexport default mixins(\n  Themeable,\n  RegistrableProvide('carousel')\n  /* @vue/component */\n).extend({\n  name: 'v-carousel',\n\n  directives: { Touch },\n\n  props: {\n    cycle: {\n      type: Boolean,\n      default: true\n    },\n    delimiterIcon: {\n      type: String,\n      default: '$vuetify.icons.delimiter'\n    },\n    hideControls: Boolean,\n    hideDelimiters: Boolean,\n    interval: {\n      type: [Number, String],\n      default: 6000,\n      validator: (value: string | number) => value > 0\n    },\n    nextIcon: {\n      type: [Boolean, String],\n      default: '$vuetify.icons.next'\n    },\n    prevIcon: {\n      type: [Boolean, String],\n      default: '$vuetify.icons.prev'\n    },\n    value: Number\n  },\n\n  data () {\n    return {\n      inputValue: this.value,\n      items: [] as CarouselItemInstance[],\n      slideTimeout: undefined as number | undefined,\n      reverse: false\n    }\n  },\n\n  computed: {\n    isDark (): boolean {\n      return this.dark || !this.light\n    }\n  },\n\n  watch: {\n    items () {\n      if (this.inputValue >= this.items.length) {\n        this.inputValue = this.items.length - 1\n      }\n    },\n    inputValue () {\n      // Evaluates items when inputValue changes to\n      // account for dynamic changing of children\n\n      const selectedItem = this.items[this.inputValue]\n\n      if (!selectedItem) return\n\n      for (let index = this.items.length; --index >= 0;) {\n        this.items[index].open(selectedItem.uid, this.reverse)\n      }\n\n      this.$emit('input', this.inputValue)\n      this.restartTimeout()\n    },\n    value (val) {\n      this.inputValue = val\n    },\n    interval () {\n      this.restartTimeout()\n    },\n    cycle (val) {\n      if (val) {\n        this.restartTimeout()\n      } else {\n        clearTimeout(this.slideTimeout)\n        this.slideTimeout = undefined\n      }\n    }\n  },\n\n  mounted () {\n    this.init()\n  },\n\n  methods: {\n    genDelimiters (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-carousel__controls'\n      }, this.genItems())\n    },\n    genIcon (\n      direction: 'prev' | 'next',\n      icon: string,\n      fn: () => void\n    ): VNode {\n      return this.$createElement('div', {\n        staticClass: `v-carousel__${direction}`\n      }, [\n        this.$createElement(VBtn, {\n          props: {\n            icon: true\n          },\n          on: { click: fn }\n        }, [\n          this.$createElement(VIcon, {\n            props: { 'size': '46px' }\n          }, icon)\n        ])\n      ])\n    },\n    genIcons (): VNode[] {\n      const icons = []\n\n      const prevIcon = this.$vuetify.rtl\n        ? this.nextIcon\n        : this.prevIcon\n\n      if (prevIcon && typeof prevIcon === 'string') {\n        icons.push(this.genIcon('prev', prevIcon, this.prev))\n      }\n\n      const nextIcon = this.$vuetify.rtl\n        ? this.prevIcon\n        : this.nextIcon\n\n      if (nextIcon && typeof nextIcon === 'string') {\n        icons.push(this.genIcon('next', nextIcon, this.next))\n      }\n\n      return icons\n    },\n    genItems (): VNode[] {\n      return this.items.map((item, index) => {\n        return this.$createElement(VBtn, {\n          class: {\n            'v-carousel__controls__item': true,\n            'v-carousel__controls__item--active': index === this.inputValue\n          },\n          props: {\n            icon: true,\n            small: true\n          },\n          key: index,\n          on: { click: this.select.bind(this, index) }\n        }, [this.$createElement(VIcon, {\n          props: { size: '18px' }\n        }, this.delimiterIcon)])\n      })\n    },\n    restartTimeout () {\n      this.slideTimeout && clearTimeout(this.slideTimeout)\n      this.slideTimeout = undefined\n\n      const raf = requestAnimationFrame || setTimeout\n      raf(this.startTimeout)\n    },\n    init () {\n      if (this.value == null) {\n        this.inputValue = 0\n      } else {\n        this.startTimeout()\n      }\n    },\n    next () {\n      this.reverse = false\n      this.inputValue = (this.inputValue + 1) % this.items.length\n    },\n    prev () {\n      this.reverse = true\n      this.inputValue = (this.inputValue + this.items.length - 1) % this.items.length\n    },\n    select (index: number) {\n      this.reverse = index < this.inputValue\n      this.inputValue = index\n    },\n    startTimeout () {\n      if (!this.cycle) return\n\n      this.slideTimeout = window.setTimeout(this.next, this.interval > 0 ? this.interval : 6000)\n    },\n    register (uid: number, open: () => void) {\n      this.items.push({ uid, open })\n    },\n    unregister (uid: number) {\n      this.items = this.items.filter(i => i.uid !== uid)\n    }\n  },\n\n  render (h): VNode {\n    const children = []\n\n    if (!this.hideControls) {\n      children.push(this.genIcons())\n    }\n\n    if (!this.hideDelimiters) {\n      children.push(this.genDelimiters())\n    }\n\n    return h('div', {\n      staticClass: 'v-carousel',\n      directives: [{\n        name: 'touch',\n        value: {\n          left: this.next,\n          right: this.prev\n        }\n      }] as VNodeDirective[]\n    }, [children, this.$slots.default])\n  }\n})\n"],"sourceRoot":""}