{"remainingRequest":"/Users/werner-dev/www/topnot-cli/node_modules/babel-loader/lib/index.js!/Users/werner-dev/www/topnot-cli/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/werner-dev/www/topnot-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/werner-dev/www/topnot-cli/src/components/nearby.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/werner-dev/www/topnot-cli/src/components/nearby.vue","mtime":1561202185847},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/werner-dev/www/topnot-cli/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      center: {\n        lat: 48.853,\n        lng: 2.298\n      },\n      searchBounds: null,\n      userPosition: null\n    };\n  },\n  computed: {\n    nearbyRequest: function nearbyRequest() {\n      if (this.searchBounds) {\n        return {\n          bounds: this.searchBounds,\n          type: 'hair_care'\n        };\n      }\n    }\n  },\n  methods: _objectSpread({}, mapActions('layout', ['toggleSideNav']), {\n    centerOnUser: function centerOnUser() {\n      if (this.userPosition) {\n        this.center = this.userPosition;\n      }\n    },\n    onIdle: function onIdle(map) {\n      this.searchBounds = map.getBounds();\n      this.$refs.results.$el.scrollTop = 0;\n    },\n    setUserPosition: function setUserPosition(position) {\n      this.userPosition = position;\n    }\n  }),\n  mounted: function mounted() {\n    console.log(this.$refs.results);\n  }\n};",{"version":3,"sources":["nearby.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA;AAFA,OADA;AAKA,MAAA,YAAA,EAAA,IALA;AAMA,MAAA,YAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,KAAA,YAAA,EAAA;AACA,eAAA;AACA,UAAA,MAAA,EAAA,KAAA,YADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA;AACA;AARA,GAXA;AAqBA,EAAA,OAAA,oBACA,UAAA,CAAA,QAAA,EAAA,CACA,eADA,CAAA,CADA;AAIA,IAAA,YAJA,0BAIA;AACA,UAAA,KAAA,YAAA,EAAA;AACA,aAAA,MAAA,GAAA,KAAA,YAAA;AACA;AACA,KARA;AASA,IAAA,MATA,kBASA,GATA,EASA;AACA,WAAA,YAAA,GAAA,GAAA,CAAA,SAAA,EAAA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,SAAA,GAAA,CAAA;AACA,KAZA;AAaA,IAAA,eAbA,2BAaA,QAbA,EAaA;AACA,WAAA,YAAA,GAAA,QAAA;AACA;AAfA,IArBA;AAsCA,EAAA,OAtCA,qBAsCA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,OAAA;AACA;AAxCA,CAAA","sourcesContent":["<template>\n    <div class=\"nearby-places demo\">\n        <md-toolbar>\n            <md-button\n                class=\"md-icon-button\"\n                @click=\"toggleSideNav\"\n            >\n                <md-icon>menu</md-icon>\n            </md-button>\n\n            <h2 class=\"md-title\" style=\"flex: 1;\">Nearby places</h2>\n            \n            <md-button\n                class=\"md-icon-button\"\n                :disabled=\"!userPosition\"\n                @click=\"centerOnUser\"\n            >\n                <md-icon>my_location</md-icon>\n            </md-button>\n        </md-toolbar>\n\n        <div class=\"panes\">\n            <!-- Map -->\n            <googlemaps-map\n                class=\"map\"\n                :center.sync=\"center\"\n                :zoom=\"12\"\n                @idle=\"onIdle\"\n            >\n                <!-- User Position -->\n                <googlemaps-user-position\n                    @update:position=\"setUserPosition\" />\n            </googlemaps-map>\n\n            <!-- Places list -->\n            <googlemaps-nearby-places\n                class=\"results-pane\"\n                ref=\"results\"\n                :request=\"nearbyRequest\"\n            >\n                <template slot-scope=\"props\">\n                    <md-list class=\"md-double-line\">\n                        <md-subheader class=\"md-inset\">Nearby places</md-subheader>\n\n                        <md-list-item\n                            v-for=\"result of props.results\"\n                            :key=\"result.id\"\n                        >\n                            <!-- Photo -->\n                            <md-avatar class=\"photo\">\n                                <img\n                                    v-if=\"result.photos\"\n                                    :src=\"result.photos[0].getUrl({ maxWidth: 80, maxHeight: 80 })\"\n                                />\n                                <md-icon v-else class=\"md-primary\">place</md-icon>\n                            </md-avatar>\n                            \n                            <!-- Infos -->\n                            <div class=\"md-list-text-container\">\n                                <span>{{ result.name }}</span>\n                                <span>{{ result.vicinity }}</span>\n                            </div>\n                        </md-list-item>\n                    </md-list>\n\n                    <LoadingOverlay v-if=\"props.loading\"/>\n                </template>\n            </googlemaps-nearby-places>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n    data () {\n        return {\n            center: {\n                lat: 48.853,\n                lng: 2.298,\n            },\n            searchBounds: null,\n            userPosition: null,\n        }\n    },\n    computed: {\n        nearbyRequest () {\n            if (this.searchBounds) {\n                return {\n                    bounds: this.searchBounds,\n                    type: 'hair_care'\n                }\n            }\n        },\n    },\n    methods: {\n        ...mapActions('layout', [\n            'toggleSideNav',\n        ]),\n        centerOnUser () {\n            if (this.userPosition) {\n                this.center = this.userPosition\n            }\n        },\n        onIdle (map) {\n            this.searchBounds = map.getBounds()\n            this.$refs.results.$el.scrollTop = 0\n        },\n        setUserPosition (position) {\n            this.userPosition = position\n        },\n    },\n    mounted() {\n        console.log(this.$refs.results);\n    }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.demo {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n.panes {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n}\n.map {\n    flex: 1;\n}\n.results-pane {\n    overflow-x: auto;\n    overflow-y: auto;\n    width: 400px;\n    height: calc(100vh - 64px);\n    position: relative;\n    .photo {\n        background: #eee;\n    }\n}\n</style>\n\n"],"sourceRoot":"src/components"}]}