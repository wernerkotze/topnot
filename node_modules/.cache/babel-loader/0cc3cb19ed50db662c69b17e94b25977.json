{"remainingRequest":"/Users/werner-dev/www/topnot-cli/node_modules/babel-loader/lib/index.js!/Users/werner-dev/www/topnot-cli/node_modules/eslint-loader/index.js??ref--13-0!/Users/werner-dev/www/topnot-cli/src/store/services/users.js","dependencies":[{"path":"/Users/werner-dev/www/topnot-cli/src/store/services/users.js","mtime":1555224202125},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/werner-dev/www/topnot-cli/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.sort\";\nimport axios from 'axios';\nimport * as firebase from 'firebase';\nvar state = {\n  loadedHairdressers: [{\n    firstname: 'Rabbo',\n    lastname: 'Pasch',\n    bio: 'weaht ',\n    company: 'My Own Companyy',\n    imageUrl: 'my image',\n    age: null,\n    companyName: 'My Own companyName',\n    companyAddr: 'My Own companyAddr',\n    companyLat: 'My Own companyLat',\n    companyLong: 'My Own companyLong',\n    hashtags: 'My Own hashTags'\n  }]\n},\n    getters = {\n  loadedHairdressers: function loadedHairdressers(state) {\n    return state.loadedHairdressers.sort(function (hairDressersA, hairDressersB) {\n      return hairDressersA.date > hairDressersB.date;\n    });\n  },\n  featuredHairdressers: function featuredHairdressers(state, getters) {\n    return getters.loadedHairdressers.slice(0, 11);\n  },\n  loadedHairdresser: function loadedHairdresser(state) {\n    return function (hairdesserId) {\n      return state.loadedHairdressers.find(function (hairdesser) {\n        return hairdesser.id === hairdesserId;\n      });\n    };\n  }\n},\n    mutations = {\n  setLoadedHairdressers: function setLoadedHairdressers(state, payload) {\n    state.loadedHairdressers = payload;\n  },\n  createHairdresser: function createHairdresser(state, payload) {\n    state.loadedHairdressers.push(payload);\n  },\n  updateHairdresser: function updateHairdresser(state, payload) {\n    var hairdesser = state.loadedHairdressers.find(function (hairdesser) {\n      return hairdesser.id === payload.id;\n    });\n\n    if (payload.firstname) {\n      hairdesser.firstname = payload.firstname;\n    }\n\n    if (payload.lastname) {\n      hairdesser.lastname = payload.lastname;\n    }\n\n    if (payload.companyAddr) {\n      hairdesser.companyAddr = payload.companyAddr;\n    }\n  }\n},\n    actions = {\n  loadHairdressers: function loadHairdressers(_ref) {\n    var commit = _ref.commit;\n    commit('setLoading', true);\n    firebase.database().ref('hairdressers').once('value').then(function (data) {\n      var hairdresser = [];\n      var obj = data.val();\n\n      for (var key in obj) {\n        hairdresser.push({\n          id: key,\n          age: obj[key].age,\n          firstname: obj[key].firstname,\n          lastname: obj[key].lastname,\n          bio: obj[key].bio,\n          imageUrl: obj[key].imageUrl,\n          date: obj[key].date,\n          creatorId: obj[key].creatorId,\n          companyName: obj[key].companyName,\n          companyAddr: obj[key].companyAddr,\n          companyLat: obj[key].companyLat,\n          companyLong: obj[key].companyLong,\n          hashtags: obj[key].hashtags\n        });\n      }\n\n      commit('setLoadedHairdressers', hairdresser);\n      commit('setLoading', false);\n    }).catch(function (error) {\n      console.log(error);\n      commit('setLoading', false);\n    });\n  },\n  createHairdresserProfile: function createHairdresserProfile(_ref2, payload) {\n    var commit = _ref2.commit,\n        getters = _ref2.getters;\n    var hairdesser = {\n      firstname: payload.firstname,\n      lastname: payload.lastname,\n      imageUrl: payload.imageUrl,\n      bio: payload.bio,\n      age: payload.age,\n      creatorId: getters.user.id,\n      companyName: payload.companyName,\n      companyAddr: payload.companyAddr,\n      companyLat: payload.companyLat,\n      companyLong: payload.companyLong,\n      hashtags: payload.hashtags\n    };\n    firebase.database().ref('hairdressers').push(hairdesser).then(function (data) {\n      var key = data.key;\n      commit('createHairdresser', _objectSpread({}, hairdesser, {\n        id: key\n      }));\n    }).catch(function (error) {\n      console.log(error);\n    }); // Reach out to firebase and store it\n  },\n  updateHairdresserData: function updateHairdresserData(_ref3, payload) {\n    var commit = _ref3.commit;\n    commit('setLoading', true);\n    var updateObj = {};\n\n    if (payload.firstname) {\n      updateObj.firstname = payload.firstname;\n    }\n\n    if (payload.lastname) {\n      updateObj.lastname = payload.lastname;\n    }\n\n    if (payload.companyAddr) {\n      updateObj.companyAddr = payload.companyAddr;\n    }\n\n    firebase.database().ref('hairdessers').child(payload.id).update(updateObj).then(function () {\n      commit('setLoading', false);\n      commit('updateHairdresser', payload);\n    }).catch(function (error) {\n      console.log(error);\n      commit('setLoading', false);\n    });\n  }\n};\nexport default {\n  state: state,\n  getters: getters,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["/Users/werner-dev/www/topnot-cli/src/store/services/users.js"],"names":["axios","firebase","state","loadedHairdressers","firstname","lastname","bio","company","imageUrl","age","companyName","companyAddr","companyLat","companyLong","hashtags","getters","sort","hairDressersA","hairDressersB","date","featuredHairdressers","slice","loadedHairdresser","hairdesserId","find","hairdesser","id","mutations","setLoadedHairdressers","payload","createHairdresser","push","updateHairdresser","actions","loadHairdressers","commit","database","ref","once","then","data","hairdresser","obj","val","key","creatorId","catch","error","console","log","createHairdresserProfile","user","updateHairdresserData","updateObj","child","update"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport * as firebase from 'firebase'\n\nconst state = {\n  loadedHairdressers: [\n    {\n      firstname: 'Rabbo',\n      lastname: 'Pasch',\n      bio: 'weaht ',\n      company: 'My Own Companyy',\n      imageUrl: 'my image',\n      age: null,\n      companyName:'My Own companyName',\n      companyAddr:'My Own companyAddr',\n      companyLat :'My Own companyLat',\n      companyLong :'My Own companyLong',\n      hashtags : 'My Own hashTags',\n    }\n  ]\n},\n\ngetters = {\n    loadedHairdressers (state) {\n      return state.loadedHairdressers.sort((hairDressersA, hairDressersB) => {\n        return hairDressersA.date > hairDressersB.date\n      })\n    },\n    featuredHairdressers (state, getters) {\n      return getters.loadedHairdressers.slice(0, 11)\n    },\n    loadedHairdresser (state) {\n\n      return (hairdesserId) => {\n        return state.loadedHairdressers.find((hairdesser) => {\n          return hairdesser.id === hairdesserId\n        })\n      }\n    }\n},\n\nmutations = {\n  setLoadedHairdressers (state, payload) {\n  state.loadedHairdressers = payload\n  },\n  createHairdresser (state, payload) {\n    state.loadedHairdressers.push(payload)\n  },\n  updateHairdresser (state, payload) {\n    const hairdesser = state.loadedHairdressers.find(hairdesser => {\n      return hairdesser.id === payload.id\n    })\n    if (payload.firstname) {\n      hairdesser.firstname = payload.firstname\n    }\n    if (payload.lastname) {\n      hairdesser.lastname = payload.lastname\n    }\n    if (payload.companyAddr) {\n      hairdesser.companyAddr = payload.companyAddr\n    }\n  }\n},\n\nactions = {\n    loadHairdressers ({commit}) {\n      commit('setLoading', true)\n      firebase.database().ref('hairdressers').once('value')\n        .then((data) => {\n          const hairdresser = []\n          const obj = data.val()\n          for (let key in obj) {\n            hairdresser.push({\n              id: key,\n              age: obj[key].age,\n              firstname: obj[key].firstname,\n              lastname: obj[key].lastname,\n              bio: obj[key].bio,\n              imageUrl: obj[key].imageUrl,\n              date: obj[key].date,\n              creatorId: obj[key].creatorId,\n              companyName:obj[key].companyName,\n              companyAddr:obj[key].companyAddr,\n              companyLat : obj[key].companyLat,\n              companyLong : obj[key].companyLong,\n              hashtags : obj[key].hashtags,\n            })\n          }\n          commit('setLoadedHairdressers', hairdresser)\n          commit('setLoading', false)\n        })\n        .catch(\n          (error) => {\n            console.log(error)\n            commit('setLoading', false)\n          }\n        )\n    },\n    createHairdresserProfile ({commit, getters}, payload) {\n      const hairdesser = {\n        firstname: payload.firstname,\n        lastname: payload.lastname,\n        imageUrl: payload.imageUrl,\n        bio: payload.bio,\n        age: payload.age,\n        creatorId: getters.user.id,\n        companyName:payload.companyName,\n        companyAddr:payload.companyAddr,\n        companyLat : payload.companyLat,\n        companyLong : payload.companyLong,\n        hashtags : payload.hashtags,\n      }\n\n      firebase.database().ref('hairdressers').push(hairdesser)\n        .then((data) => {\n          const key = data.key\n          commit('createHairdresser', {\n            ...hairdesser,\n            id: key\n          })\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n      // Reach out to firebase and store it\n    },\n    updateHairdresserData ({commit}, payload) {\n      commit('setLoading', true)\n      const updateObj = {}\n      if (payload.firstname) {\n        updateObj.firstname = payload.firstname\n      }\n      if (payload.lastname) {\n        updateObj.lastname = payload.lastname\n      }\n      if (payload.companyAddr) {\n        updateObj.companyAddr = payload.companyAddr\n      }\n      firebase.database().ref('hairdessers').child(payload.id).update(updateObj)\n        .then(() => {\n          commit('setLoading', false)\n          commit('updateHairdresser', payload)\n        })\n        .catch(error => {\n          console.log(error)\n          commit('setLoading', false)\n        })\n    }\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n"]}]}