{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/src/store/modules/auth.js","dependencies":[{"path":"/app/src/store/modules/auth.js","mtime":1554642363000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport * as firebase from 'firebase';\nvar state = {\n  user: null,\n  loading: false,\n  error: null,\n  sidebar: null\n};\nvar getters = {\n  user: function user(state) {\n    return state.user;\n  },\n  loading: function loading(state) {\n    return state.loading;\n  },\n  error: function error(state) {\n    return state.error;\n  }\n};\nvar mutations = {\n  setUser: function setUser(state, payload) {\n    state.user = payload;\n  },\n  setLoading: function setLoading(state, payload) {\n    state.loading = payload;\n  },\n  setError: function setError(state, payload) {\n    state.error = payload;\n  },\n  clearError: function clearError(state) {\n    state.error = null;\n  },\n  sidebar: function sidebar(state, val) {\n    state.sidebar = val;\n  },\n  setDrawer: set('drawer'),\n  toggleDrawer: toggle('drawer')\n};\nvar actions = {\n  signUserUp: function signUserUp(_ref, payload) {\n    var commit = _ref.commit;\n    commit('setLoading', true);\n    commit('clearError');\n    firebase.auth().createUserWithEmailAndPassword(payload.email, payload.password).then(function (user) {\n      var ref = firebase.database().ref().child('/users/');\n      var data = {\n        email: payload.email,\n        id: user.user.uid\n      };\n      ref.child(user.user.uid).set(data).then(function (ref) {\n        (function (user) {\n          var newUser = {\n            id: user.user.uid\n          };\n          commit('setUser', newUser);\n        });\n      });\n    }).catch(function (error) {\n      commit('setLoading', false);\n      commit('setError', error);\n      console.log(error);\n    });\n  },\n  signUserIn: function signUserIn(_ref2, payload) {\n    var commit = _ref2.commit;\n    commit('setLoading', true);\n    commit('clearError');\n    firebase.auth().signInWithEmailAndPassword(payload.email, payload.password).then(function (user) {\n      commit('setLoading', false);\n      var newUser = {\n        id: user.user.uid\n      };\n      commit('setUser', newUser);\n    }).catch(function (error) {\n      commit('setLoading', false);\n      commit('setError', error);\n      console.log(error);\n    });\n  },\n  autoSignIn: function autoSignIn(_ref3, payload) {\n    var commit = _ref3.commit;\n    commit('setUser', {\n      id: payload.uid\n    });\n  },\n  clearError: function clearError(_ref4) {\n    var commit = _ref4.commit;\n    commit('clearError');\n  },\n  logout: function logout(_ref5) {\n    var commit = _ref5.commit;\n    firebase.auth().signOut();\n    commit('setUser', null);\n  }\n};\nexport default {\n  state: state,\n  getters: getters,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["/app/src/store/modules/auth.js"],"names":["axios","firebase","state","user","loading","error","sidebar","getters","mutations","setUser","payload","setLoading","setError","clearError","val","setDrawer","set","toggleDrawer","toggle","actions","signUserUp","commit","auth","createUserWithEmailAndPassword","email","password","then","ref","database","child","data","id","uid","newUser","catch","console","log","signUserIn","signInWithEmailAndPassword","autoSignIn","logout","signOut"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,IAAI,EAAE,IADM;AAEZC,EAAAA,OAAO,EAAE,KAFG;AAGZC,EAAAA,KAAK,EAAE,IAHK;AAIZC,EAAAA,OAAO,EAAE;AAJG,CAAd;AAOA,IAAMC,OAAO,GAAG;AACdJ,EAAAA,IADc,gBACRD,KADQ,EACD;AACX,WAAOA,KAAK,CAACC,IAAb;AACD,GAHa;AAIdC,EAAAA,OAJc,mBAILF,KAJK,EAIE;AACd,WAAOA,KAAK,CAACE,OAAb;AACD,GANa;AAOdC,EAAAA,KAPc,iBAOPH,KAPO,EAOA;AACZ,WAAOA,KAAK,CAACG,KAAb;AACD;AATa,CAAhB;AAYA,IAAMG,SAAS,GAAG;AAChBC,EAAAA,OADgB,mBACPP,KADO,EACAQ,OADA,EACS;AACvBR,IAAAA,KAAK,CAACC,IAAN,GAAaO,OAAb;AACD,GAHe;AAIhBC,EAAAA,UAJgB,sBAIJT,KAJI,EAIGQ,OAJH,EAIY;AAC1BR,IAAAA,KAAK,CAACE,OAAN,GAAgBM,OAAhB;AACD,GANe;AAOhBE,EAAAA,QAPgB,oBAONV,KAPM,EAOCQ,OAPD,EAOU;AACxBR,IAAAA,KAAK,CAACG,KAAN,GAAcK,OAAd;AACD,GATe;AAUhBG,EAAAA,UAVgB,sBAUJX,KAVI,EAUG;AACjBA,IAAAA,KAAK,CAACG,KAAN,GAAc,IAAd;AACD,GAZe;AAahBC,EAAAA,OAbgB,mBAaPJ,KAbO,EAaAY,GAbA,EAaK;AACnBZ,IAAAA,KAAK,CAACI,OAAN,GAAgBQ,GAAhB;AACD,GAfe;AAgBhBC,EAAAA,SAAS,EAAEC,GAAG,CAAC,QAAD,CAhBE;AAiBhBC,EAAAA,YAAY,EAAEC,MAAM,CAAC,QAAD;AAjBJ,CAAlB;AAoBA,IAAMC,OAAO,GAAG;AACdC,EAAAA,UADc,4BACUV,OADV,EACmB;AAAA,QAAnBW,MAAmB,QAAnBA,MAAmB;AAC/BA,IAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACAA,IAAAA,MAAM,CAAC,YAAD,CAAN;AACApB,IAAAA,QAAQ,CAACqB,IAAT,GAAgBC,8BAAhB,CAA+Cb,OAAO,CAACc,KAAvD,EAA8Dd,OAAO,CAACe,QAAtE,EACCC,IADD,CACM,UAASvB,IAAT,EAAe;AACnB,UAAIwB,GAAG,GAAG1B,QAAQ,CAAC2B,QAAT,GAAoBD,GAApB,GAA0BE,KAA1B,CAAgC,SAAhC,CAAV;AACA,UAAIC,IAAI,GAAG;AACTN,QAAAA,KAAK,EAAEd,OAAO,CAACc,KADN;AAETO,QAAAA,EAAE,EAAE5B,IAAI,CAACA,IAAL,CAAU6B;AAFL,OAAX;AAIAL,MAAAA,GAAG,CAACE,KAAJ,CAAU1B,IAAI,CAACA,IAAL,CAAU6B,GAApB,EAAyBhB,GAAzB,CAA6Bc,IAA7B,EAAmCJ,IAAnC,CAAwC,UAASC,GAAT,EAAa;AACnD,mBAAAxB,IAAI,EAAI;AACN,cAAM8B,OAAO,GAAG;AACdF,YAAAA,EAAE,EAAE5B,IAAI,CAACA,IAAL,CAAU6B;AADA,WAAhB;AAGAX,UAAAA,MAAM,CAAC,SAAD,EAAYY,OAAZ,CAAN;AACD,SALD;AAMD,OAPD;AAQD,KAfD,EAgBEC,KAhBF,CAiBE,UAAA7B,KAAK,EAAI;AACPgB,MAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACAA,MAAAA,MAAM,CAAC,UAAD,EAAahB,KAAb,CAAN;AACA8B,MAAAA,OAAO,CAACC,GAAR,CAAY/B,KAAZ;AACD,KArBH;AAuBD,GA3Ba;AA4BdgC,EAAAA,UA5Bc,6BA4BQ3B,OA5BR,EA4BiB;AAAA,QAAlBW,MAAkB,SAAlBA,MAAkB;AAC7BA,IAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACAA,IAAAA,MAAM,CAAC,YAAD,CAAN;AACApB,IAAAA,QAAQ,CAACqB,IAAT,GAAgBgB,0BAAhB,CAA2C5B,OAAO,CAACc,KAAnD,EAA0Dd,OAAO,CAACe,QAAlE,EACGC,IADH,CAEI,UAAAvB,IAAI,EAAI;AACNkB,MAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACA,UAAMY,OAAO,GAAG;AACdF,QAAAA,EAAE,EAAE5B,IAAI,CAACA,IAAL,CAAU6B;AADA,OAAhB;AAGAX,MAAAA,MAAM,CAAC,SAAD,EAAYY,OAAZ,CAAN;AACD,KARL,EAUGC,KAVH,CAWI,UAAA7B,KAAK,EAAI;AACPgB,MAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACAA,MAAAA,MAAM,CAAC,UAAD,EAAahB,KAAb,CAAN;AACA8B,MAAAA,OAAO,CAACC,GAAR,CAAY/B,KAAZ;AACD,KAfL;AAiBD,GAhDa;AAiDdkC,EAAAA,UAjDc,6BAiDQ7B,OAjDR,EAiDiB;AAAA,QAAlBW,MAAkB,SAAlBA,MAAkB;AAC7BA,IAAAA,MAAM,CAAC,SAAD,EAAY;AAACU,MAAAA,EAAE,EAAErB,OAAO,CAACsB;AAAb,KAAZ,CAAN;AACD,GAnDa;AAoDdnB,EAAAA,UApDc,6BAoDQ;AAAA,QAATQ,MAAS,SAATA,MAAS;AACpBA,IAAAA,MAAM,CAAC,YAAD,CAAN;AACD,GAtDa;AAuDdmB,EAAAA,MAvDc,yBAuDI;AAAA,QAATnB,MAAS,SAATA,MAAS;AAChBpB,IAAAA,QAAQ,CAACqB,IAAT,GAAgBmB,OAAhB;AACApB,IAAAA,MAAM,CAAC,SAAD,EAAY,IAAZ,CAAN;AACD;AA1Da,CAAhB;AA6DA,eAAe;AACbnB,EAAAA,KAAK,EAALA,KADa;AAEbK,EAAAA,OAAO,EAAPA,OAFa;AAGbC,EAAAA,SAAS,EAATA,SAHa;AAIbW,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import axios from 'axios'\nimport * as firebase from 'firebase'\n\nconst state = {\n  user: null,\n  loading: false,\n  error: null,\n  sidebar: null\n}\n\nconst getters = {\n  user (state) {\n    return state.user\n  },\n  loading (state) {\n    return state.loading\n  },\n  error (state) {\n    return state.error\n  }\n}\n\nconst mutations = {\n  setUser (state, payload) {\n    state.user = payload\n  },\n  setLoading (state, payload) {\n    state.loading = payload\n  },\n  setError (state, payload) {\n    state.error = payload\n  },\n  clearError (state) {\n    state.error = null\n  },\n  sidebar (state, val) {\n    state.sidebar = val\n  },\n  setDrawer: set('drawer'),\n  toggleDrawer: toggle('drawer')\n}\n\nconst actions = {\n  signUserUp ({ commit }, payload) {\n    commit('setLoading', true)\n    commit('clearError')\n    firebase.auth().createUserWithEmailAndPassword(payload.email, payload.password)\n    .then(function(user) {\n      var ref = firebase.database().ref().child('/users/');\n      var data = {\n        email: payload.email,\n        id: user.user.uid\n      }\n      ref.child(user.user.uid).set(data).then(function(ref){\n        user => {\n          const newUser = {\n            id: user.user.uid\n          }\n          commit('setUser', newUser)\n        }\n      })\n    }\n    ).catch (\n      error => {\n        commit('setLoading', false)\n        commit('setError', error)\n        console.log(error)\n      }\n    )\n  },\n  signUserIn ({commit}, payload) {\n    commit('setLoading', true)\n    commit('clearError')\n    firebase.auth().signInWithEmailAndPassword(payload.email, payload.password)\n      .then(\n        user => {\n          commit('setLoading', false)\n          const newUser = {\n            id: user.user.uid\n          }\n          commit('setUser', newUser)\n        }\n      )\n      .catch(\n        error => {\n          commit('setLoading', false)\n          commit('setError', error)\n          console.log(error)\n        }\n      )\n  },\n  autoSignIn ({commit}, payload) {\n    commit('setUser', {id: payload.uid})\n  },\n  clearError ({commit}) {\n    commit('clearError')\n  },\n  logout ({commit}) {\n    firebase.auth().signOut()\n    commit('setUser', null)\n  },\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n"]}]}