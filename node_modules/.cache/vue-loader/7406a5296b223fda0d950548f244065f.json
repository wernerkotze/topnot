{"remainingRequest":"/Users/werner-dev/www/topnot-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/werner-dev/www/topnot-cli/src/components/nearby.vue?vue&type=style&index=0&id=f6c0c5e2&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/werner-dev/www/topnot-cli/src/components/nearby.vue","mtime":1560886387796},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/werner-dev/www/topnot-cli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.demo {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n.panes {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n}\n.map {\n    flex: 1;\n}\n.results-pane {\n    overflow-x: auto;\n    overflow-y: auto;\n    width: 400px;\n    height: calc(100vh - 64px);\n    position: relative;\n    .photo {\n        background: #eee;\n    }\n}\n",{"version":3,"sources":["nearby.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nearby.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"nearby-places demo\">\n        <md-toolbar>\n            <md-button\n                class=\"md-icon-button\"\n                @click=\"toggleSideNav\"\n            >\n                <md-icon>menu</md-icon>\n            </md-button>\n\n            <h2 class=\"md-title\" style=\"flex: 1;\">Nearby places</h2>\n            \n            <md-button\n                class=\"md-icon-button\"\n                :disabled=\"!userPosition\"\n                @click=\"centerOnUser\"\n            >\n                <md-icon>my_location</md-icon>\n            </md-button>\n        </md-toolbar>\n\n        <div class=\"panes\">\n            <!-- Map -->\n            <googlemaps-map\n                class=\"map\"\n                :center.sync=\"center\"\n                :zoom=\"12\"\n                @idle=\"onIdle\"\n            >\n                <!-- User Position -->\n                <googlemaps-user-position\n                    @update:position=\"setUserPosition\" />\n            </googlemaps-map>\n\n            <!-- Places list -->\n            <googlemaps-nearby-places\n                class=\"results-pane\"\n                ref=\"results\"\n                :request=\"nearbyRequest\"\n                :filter=\"result => !result.types.includes('locality')\"\n            >\n                <template slot-scope=\"props\">\n                    <md-list class=\"md-double-line\">\n                        <md-subheader class=\"md-inset\">Nearby places</md-subheader>\n\n                        <md-list-item\n                            v-for=\"result of props.results\"\n                            :key=\"result.id\"\n                        >\n                            <!-- Photo -->\n                            <md-avatar class=\"photo\">\n                                <img\n                                    v-if=\"result.photos\"\n                                    :src=\"result.photos[0].getUrl({ maxWidth: 80, maxHeight: 80 })\"\n                                />\n                                <md-icon v-else class=\"md-primary\">place</md-icon>\n                            </md-avatar>\n                            \n                            <!-- Infos -->\n                            <div class=\"md-list-text-container\">\n                                <span>{{ result.name }}</span>\n                                <span>{{ result.vicinity }}</span>\n                            </div>\n                        </md-list-item>\n                    </md-list>\n\n                    <LoadingOverlay v-if=\"props.loading\"/>\n                </template>\n            </googlemaps-nearby-places>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n    data () {\n        return {\n            center: {\n                lat: 48.853,\n                lng: 2.298,\n            },\n            searchBounds: null,\n            userPosition: null,\n        }\n    },\n    computed: {\n        nearbyRequest () {\n            if (this.searchBounds) {\n                return {\n                    bounds: this.searchBounds,\n                }\n            }\n        },\n    },\n    methods: {\n        ...mapActions('layout', [\n            'toggleSideNav',\n        ]),\n        centerOnUser () {\n            if (this.userPosition) {\n                this.center = this.userPosition\n            }\n        },\n        onIdle (map) {\n            this.searchBounds = map.getBounds()\n            this.$refs.results.$el.scrollTop = 0\n        },\n        setUserPosition (position) {\n            this.userPosition = position\n        },\n    },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.demo {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n.panes {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n}\n.map {\n    flex: 1;\n}\n.results-pane {\n    overflow-x: auto;\n    overflow-y: auto;\n    width: 400px;\n    height: calc(100vh - 64px);\n    position: relative;\n    .photo {\n        background: #eee;\n    }\n}\n</style>\n\n"]}]}